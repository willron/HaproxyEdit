公司使用haproxy做负载均衡器。外部请求和内部各子系统的调用都是通过haproxy进行转发。

因近来同时开发的版本比较多，且同一版本又有多套环境需求，同时又因为有多次别的同事改了转发但忘记改回来，使得环境出现不明问题。所以催生了这样一个解决方案：

1. 使用vmware workstation建立虚拟机
2. 虚拟机安装DNS服务器，haproxy，用于修改haproxy配置文件的WEB站点
3. DNS服务器将hk515.com（公司域名）解析到虚拟机自身IP
4. 虚拟机的haproxy将各子系统转发到自己想要的后端服务器
4. 使用者将电脑或者手机的DNS服务器地址手动指定到这台虚拟机，使用APP或各类接口时就可以使用自己设定好的环境，从而实现人手一套环境，互不干扰。
